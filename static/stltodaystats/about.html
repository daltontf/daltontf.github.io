<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel='stylesheet' type='text/css' href='styles.css'>
    <title>STLtoday High School Sports Stats DB - About</title>
</head>
<body>
<h1>STLtoday High School Sports StatsDB - About</h1>
<p>During her senior year, my daughter was approaching a milestone in one of her high school sports. To calculate where she was on attaining it, I would up go to the STLtoday High School Sport Stats page <a href="https://www.stltoday.com/sports/high-school/stats/#tracking-source=main-nav">https://www.stltoday.com/sports/high-school/stats/#tracking-source=main-nav</a> and copy and paste data from into a Google Sheet and creating some queries to sum up the stats. She had classmates that played other sports who were coming up on milestones, so I did likewise for those sports. When us software developers find ourselves doing something manually over and over, we seek ways to automate it. I once had contract gig that involved writing software to scrape data from various sources like spreadsheets and PDFs and store it in a database, scraping web pages can be relatively easy. If I can do it for one school, I can do it for all schools, seasons and sports that STLtoday has decent stats for. Now I have this data, I would be nice to share it with others, so this little web page thing was created.
</p>
<p>Some other details about querying the statistics:</p>
<ul>
    <li><p>Queries have a limit of 250 rows returned unless an explicit limit is included in the query.</p></li>
    <li><p>TODO</p></li>
</ul>
<h2>Limitations</h2>
<p>
<ul>
    <li>
        <p>The only way to identify a player as being the same player is by name and school. This causes problems if the name is different between seasons. For example, Lafayette baseball had "David Freeze" and "David Freese". At least that one was easy to get the correct spelling. I was able to write a bit of software that helped compare names using a similarity algorithm. Sometimes there are discrepancies that looks like typos or spelling errors, but many times it a matter of "Lindsay" or "Lindsey". I just pick one. Right now, it is more important to have consistent names for players than getting the correct name of someone who played 10, 15 or 20 years ago. Two players with identical names at the same school and same sport could erroneously be treated as one player. If the number of seasons played by such a player is greater than four or there is a greater than 3 year gap between seasons, then it can be detected.
        </p>
    </li>
    <li>
        <p>Players who transfer schools will appear as two different players. These problems are more of an issue with "Career" stats that span seasons.
        </p>
    </li>
    <li>
        <p>For basketball, I tried feature a query where the three point shot percentage was calculated. However,
            many times the number of attempts was omitted or somehow a player has more shots made than attempts.
            I'm thinking sometimes it is entered as "made-attempts" and others as "made-missed".
            I ended up removing those queries which is unfortunate since that would be an interesting stat.
        </p>
    </li>
</ul>
<h2>Ongoing Work</h2>
<ul>
    <li><p>The already mentioned finding variances in names.</p></li>
    <li><p>Adding new queries that could be interest to users.</p></li>
    <li><p>Make this prettier and mobile friendly.</p></li>
    <li><p>More details and better verbiage on this 'About' page.</p></li>
</ul>
<h2>Missing Data:</h2>
<ul>  
  <li>
    <p>I first noticed that STLtoday has no stats for Alton Marquette girls soccer in 2016-2017.<sub>1</sub>There are many missing seasons for various schools and sports. Sometimes, it is likely that the school was small and perhaps didn't field a team that year or it was the pandemic. There are definitely some are conspicuous like private Catholic schools missing soccer seasons. For some sports, MaxPreps may have some stats that can "massaged" and fed into the database.<sub>2</sub>I'll be going through the "gaps" (missing seasons interspersed with seasons with stats) first determining that the season was played and try to find an alterative source of stats.
    <p>Known gaps that can be or have been addressed:</p>
    <table class="gaps">
        <tr><th colspan="3">Baseball</th></tr>
        <tr><td>Alton Marquette</td><td>2014-15</td><td>TODO - https://www.maxpreps.com/il/alton/marquette-catholic-explorers/baseball/13-14/stats/</td></tr>


        <tr><th colspan="3">Girls Basketball</th></tr>
        <tr><td>Vashon</td><td>2016-17</td><td>TODO - https://www.maxpreps.com/mo/st-louis/vashon-wolverines/basketball/girls/16-17/stats/</td></tr>


        <tr><th colspan="3">Girls Volleyball</th></tr>
        <tr><td>Belleville East</td><td>2021-2022</td><td>TODO - https://www.maxpreps.com/il/belleville/belleville-east-lancers/volleyball/21-22/stats/</td></tr>
        <tr><td>Mehlville</td><td>2016-2017</td><td>TODO - https://www.maxpreps.com/mo/st-louis/mehlville-panthers/volleyball/16-17/stats/</td></tr>
        <tr><td>MICDS</td><td>2017-2018</td><td>TODO - https://www.maxpreps.com/mo/st-louis/micds-rams/volleyball/17-18/stats/</td></tr>
        <tr><td>Pacific</td><td>2022-2023</td><td>DONE - Populated from MaxPreps (Only 19 sets there)</td></tr>
        <tr><td>Parkway Central</td><td>2020-2021</td><td>DONE - Populated from MaxPreps</td></tr>
        <tr><td>Windsor (Imperial)</td><td>2019-2020</td><td>TODO - Populated from MaxPreps</td></tr>
        <tr><td>Windsor (Imperial)</td><td>2020-2021</td><td>TODO - Populated from MaxPreps</td></tr>
     
    </table>

    <p>Known gaps without known resolution:</p>
    <table class="gaps">
        <tr><th colspan="3">Baseball</th></tr>
        <tr><td>DuBourg</td><td>2018-19</td><td>MaxPreps has no stats</td></tr>
        <tr><td>Herculaneum</td><td>2013-14</td><td>MaxPreps has no stats</td></tr>
        <tr><td>Hillsboro</td><td>2015-16</td><td>MaxPreps has no stats</td></tr>
        <tr><td>St. Mary's</td><td>2014-15</td><td>MaxPreps has no stats</td></tr>
        <tr><td>Whitfield</td><td>2013-14</td><td>MaxPreps has no stats</td></tr>

        <tr><th colspan="3">Boys Basketball</th></tr>
        <tr><td>Normandy</td><td>2015-16</td><td>MaxPreps has no stats</td></tr>

        <tr><th colspan="3">Girls Basketball</th></tr>
        <tr><td>Festus</td><td>2012-13</td><td>MaxPreps has no stats</td></tr>

        <tr><th colspan="3">Football</th></tr>
        <tr><td>Edwardsville</td><td>2003-04</td><td>One year too far back for MaxPreps</td></tr>
        <tr><td>Sumner</td><td>2010-11</td><td>MaxPreps stats empty</td></tr>
        <tr><td>Vashon</td><td>2018-19</td><td>MaxPreps has no stats</td></tr>

        <tr><th colspan="3">Hockey</th></tr>
        <tr><td>Summit</td><td>2009-10</td><td>MaxPrep no - MidStates doesn't go back that far</td></tr>

        <tr><th colspan="3">Girls Soccer</th></tr>
        <tr><td>Alton Marquette</td><td>2016-2017</td><td>MaxPreps has no stats</td></tr>
        <tr><td>Borgia</td><td>2017-2018</td><td>MaxPreps has no stats</td></tr>
        <tr><td>Ursuline</td><td>2017-2018</td><td>MaxPreps has no stats</td></tr>

        <tr><th colspan="3">Girls Volleyball</th></tr>
        <tr><td>DuBourg</td><td>2006-2007</td><td>MaxPreps does not go back that far</td></tr>
        <tr><td>DuBourg</td><td>2007-2008</td><td>MaxPreps has no stats</td></tr>
        <tr><td>DuBourg</td><td>2020-2021</td><td>MaxPreps stats empty</td></tr>
        <tr><td>Fort Zumwalt North</td><td>2017-2018</td><td>MaxPreps has no stats</td></tr>
        <tr><td>Fox</td><td>2013-2014</td><td>MaxPreps has no stats</td></tr>
        <tr><td>Highland</td><td>2021-2022</td><td>MaxPreps has no stats</td></tr>
        <tr><td>Mehlville</td><td>2021-2022</td><td>MaxPreps has no stats</td></tr>
        <tr><td>MICDS</td><td>2018-2019</td><td>MaxPreps has no stats</td></tr>
        <tr><td>Notre Dame</td><td>2012-2013</td><td>MaxPreps has no stats</td></tr>
        <tr><td>Notre Dame</td><td>2013-2014</td><td>MaxPreps has no stats</td></tr>
        <tr><td>Orchard Farm</td><td>2012-2013</td><td>MaxPreps has no stats</td></tr>
        <tr><td>Pacific</td><td>2007-2008</td><td>MaxPreps stats empty</td></tr>
        <tr><td>Parkway Central</td><td>2003-2004</td><td>MaxPreps does not go back that far</td></tr>
        <tr><td>St. Joseph's</td><td>2000-2001</td><td>MaxPreps does not go back that far</td></tr>
        <tr><td>Visitation</td><td>2007-2008</td><td>MaxPreps stats empty</td></tr>
        <tr><td>Visitation</td><td>2008-2009</td><td>MaxPreps stats empty</td></tr>
        <tr><td>Webster Groves</td><td>2020-2021</td><td>MaxPreps has no stats</td></tr>
    </table>
    <li><p>I know of one missing game in Hockey.<sub>3</sub> There is likely a lot of missing games across sports just like missing seasons.</p></li>
</ul>
<h3>Database last modification times:</h3>
<p>The databases are being updated as seasons progress, data is cleaned up, names corrected or new data discovered.</p>
<iframe src="dblastmods.html" onload="this.before((this.contentDocument.body||this.contentDocument).children[0]);this.remove()"></iframe>
<hr/>
<h2>Technical Information</h2>
<p>For those who know <a href="https://en.wikipedia.org/wiki/SQL">SQL</a>.</p>
<!--p Users that have knowledge of SQL can enter or edit existing queries. Here are descriptions of the databases used by the sports and the tables and columns defined:</p>
<p>
    All tables across sports have the following columns:
</p>
    <table>
        <tr><th>Name</th><th>Type</th></tr>
        <tr><td>school</td><td>string</td></tr>
        <tr><td>season</td><td>string</td></tr>
        <tr><td>name</td><td>string</td></tr>
    </table>
</p>
<table class="schema">
    <tr>
        <td>Baseball & Softball</td>
        <td>
            <ul class="schema">
                <li>
                    hitting_1
                    <table>
                        <tr><th>Name</th><th>Type</th></tr>
                        <tr><td>plate_appearances</td><td>integer</td></tr>
                        <tr><td>at_bats</td><td>integer</td></tr>
                    </table>
                </li>
                <li>
                    hitting_2
                    <table>
                        <tr><th>Name</th><th>Type</th></tr>
                        <tr><td>plate_appearances</td><td>integer</td></tr>
                        <tr><td>total_bases</td><td>integer</td></tr>
                    </table>
                </li>
            </ul>
        </td>
    </tr>
</table-->
<p>TODO</p>
<h4>Footnotes</h4>
<ul>
    <li class="footnote">[1] Unfortunately it was my niece's senior season.</li>
    <li class="footnote">[2] MaxPreps stats are not behind a paywall either. STLtoday stats are easier to "scrape".</li>
    <li class="footnote">[3] My son scored his first goal as a freshman in it.</li>    
</ul>
</body>
</html>